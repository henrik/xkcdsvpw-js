<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Svenskt XKCD-lösenord</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">

    <script src="words.js" charset="utf-8"></script>
    <script>
      var positions = 4;
      var wordsLength = words.length;
      var combinations = Math.pow(wordsLength, positions);

      setTimeout(newPw, 0);

      function newPw() {
        var pw = Array.from(Array(positions), function() {
          var i = Math.floor(Math.random() * words.length);
          return words[i];
        }).join(" ");
        document.querySelector(".pw").innerHTML = pw;
      }

      function wnum(num) {
        document.write(new Intl.NumberFormat("sv-SE").format(num));
      }
    </script>

    <style type="text/css">
      a { text-decoration: underline; }
    </style>
  </head>
  <body class="p-6 text-center">
    <p class="text-2xl">Ditt nya lösenord:</p>

    <p class="pw text-3xl font-bold my-4">…</p>

    <button onclick="newPw()" class="bg-gray-200 rounded-sm p-2 m-2 border-gray-300 border">Ge mig ett till</button>

    <p>(Eller ladda om sidan.)</p>

    <footer class="text-gray-600 my-8">
      <p class="py-1">Svenskt XKCD-lösenord (lösenfras). Av <a href="https://henrik.nyh.se">Henrik Nyh</a>. <a href="http://github.com/henrik/xkcdsvpw-js">Visa källkod.</a></p>
      <p class="py-1">Inspirerat av <a href="http://xkcd.com/936/">XKCD 936</a> och <a href="http://preshing.com/20110811/xkcd-password-generator">en engelsk generator</a>.</p>
      <p class="py-1">
      <script>wnum(wordsLength)</script>
      vanliga ord ^
      <script>wnum(positions)</script>
      positioner =
      <script>wnum(combinations)</script>
      möjligheter.
      </p>

      <p>
        <a href="http://xkcd.com/936/">
          <img src="http://imgs.xkcd.com/comics/password_strength.png" alt="XKCD-serien" class="mx-auto my-8">
        </a>
      </p>
    </footer>
  </body>
</html>
